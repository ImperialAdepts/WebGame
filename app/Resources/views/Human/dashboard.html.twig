{% extends 'base.html.twig' %}

{% block body %}
	<div id="wrapper">
		<h1>Human {{ human.name }} [{{ human.soul.name }}]</h1>

		<table border="1">
			{% for region in nextRegions %}
				{% if region is null %}
					<td>{{ dump(region) }}</td>
				{% else %}
					<tr>
						<td>{{ region.uuid }}</td>
						<td>
							{% if region.settlement is not null %}
								<strong>{{ region.settlement.type }}</strong>
							{% else %}
								nature
							{% endif %}
						</td>
						{% if region.project is not null %}
							<td colspan="2">
								Project {{ region.project.building }}...
								<br/> Needs {{ region.project.mandaysLeft }} MD
							</td>
						{% else %}
							<td>
								{% if region.settlement is null %}
									<a href="{{ path('region_build_settlement', {
										'regionUuid': region.uuid, 'type': 'village', 'human': human.id}) }}">
										Create village settlement</a><br/>
									<a href="{{ path('region_build_settlement', {
										'regionUuid': region.uuid, 'type': 'farm', 'human': human.id}) }}">Create
										farm</a>
									<br/>
									<a href="{{ path('region_build_settlement', {
										'regionUuid': region.uuid, 'type': 'factory', 'human': human.id}) }}">Create
										factory</a><br/>
									<a href="{{ path('region_build_settlement', {
										'regionUuid': region.uuid, 'type': 'laboratory', 'human': human.id}) }}">Create
										lab</a><br/>
								{% endif %}
							</td>
							<td>
								{% for deposit in region.oreDeposits %}
									{{ deposit.amount }}T of {{ deposit.type }}<br/>
								{% endfor %}
								{% if region.oreDeposits is not empty and region.settlement is null %}
									<a href="{{ path('region_build_settlement', {
										'regionUuid': region.uuid, 'type': 'mine', 'human': human.id}) }}">Create
										mine</a>
									<br/>
								{% endif %}
								{% if region.oreDeposits is empty %}
									<a href="{{ path('region_deposit_screening', {
										'regionUuid': region.uuid, 'human': human.id}) }}">Deposit screening</a>
								{% endif %}
							</td>
						{% endif %}
					</tr>
				{% endif %}
			{% endfor %}
		</table>
	</div>
{% endblock %}


